<html>	<head>		<title>Re: Secure Prevention of Deep Linking</title>		</head>	<body>		<blockquote><blockquote>			<b>Archive of UserLand's first discussion group, started October 5, 1998.</b><hr>			<h2>Re: Secure Prevention of Deep Linking</h2>			<table cellpadding="0" cellspacing="5">				<tr><td><b>Author:</b></td><td>Jim Flanagan</td></tr>				<tr><td><b>Posted:</b></td><td>8/11/1999; 9:00:41 PM</td></tr>				<tr><td><b>Topic:</b></td><td><a href="msg009274.html">Deep Linking</a></td></tr>				<tr><td><b>Msg #:</b></td><td>9371 (In response to <a href="msg009320.html">9320</a>)</td></tr>				<tr><td><b>Prev/Next:</b></td><td><a href="msg009370.html">9370</a> / <a href="msg009372.html">9372</a></td></tr>				</table>			<br>A couple of posters and one private correspondent point out some flaws or special cases with the URL token scheme. <p>

<B>It breaks bookmarks</B>. That's a feature! Did you ever notice how in a department store, you have to walk past all the expensive perfumes and jewelry and watches, etc. before you can get to the socks and underwear? Expose the returning user to more banner ads, and make them search for the content again, potentially exposing them to <B>targeted</B> banner ads based on the search.<p>

Okay, cynicism off. This scheme is designed to <I>prevent</I> access to content in the face of uncertain availability of <I>enabling</I> technologies like cookies and referrer information. To <I>enable</I> long term access to content, use the enabling technologies. Cookies would work well for this. If the user accepts a cookie upon visiting the gateway, then the content server CGI lets them see it again (without verifying the token). Membership has its benefits.<p>

<B>It breaks media servers</B> such as Akamai, arguably a prime target for such a strategy. Not necesarily--if the media server provider is in the loop. <p>

If server <B>G</B>, the gateway server, and server <B>M</B>, the media server share the secret token, then <B>G</B> can generate the URLs and <B>M</B> can verify them. The rest of the information is encoded in the URL and the client's IP address.<p>

<B>It breaks proxies.</B> This is a difficult problem in the case where a user's proxy server might change during the span of a session (as in the case of AOL). If the proxy changes for a user between the time the gateway page is generated and a request for internal content is generated, then the clientip will be different and access will be denied.<p>

I don't want to spend too much energy defending the scheme, because I think the whole lawsuit matter is silly, and wanted to provide a concrete example of a simple and fast** way to restrict access to internal content.<p>

** For the number of hits made to the demo page today, the calculation of MD5 hashes to generate the tokens probably didn't make a perceptable dent in my RC5 keyrate :-) For a more popular site, this might represent a more considerable amount of CPU power.
			<br><br><hr><b>There are responses to this message:</b><ul><li>&nbsp;<a href="msg009372.html">Deep Linking to Infoworld</a>, Jim Goodman, 8/11/1999; 11:13:23 PM<p></ul>			<br><br><hr>This page was archived on 6/13/2001; 4:51:50 PM.<br><br>&copy; Copyright 1998-2001 <a href="http://www.userland.com/">UserLand Software</a>, Inc.			</blockquote></blockquote>		</body>	</html>