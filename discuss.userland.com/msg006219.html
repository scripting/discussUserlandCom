<html>	<head>		<title>Re: How to respond with dignity?</title>		</head>	<body>		<blockquote><blockquote>			<b>Archive of UserLand's first discussion group, started October 5, 1998.</b><hr>			<h2>Re: How to respond with dignity?</h2>			<table cellpadding="0" cellspacing="5">				<tr><td><b>Author:</b></td><td>Eric Kidd</td></tr>				<tr><td><b>Posted:</b></td><td>5/14/1999; 8:28:48 AM</td></tr>				<tr><td><b>Topic:</b></td><td><a href="msg006209.html">How to respond with dignity?</a></td></tr>				<tr><td><b>Msg #:</b></td><td>6219 (In response to <a href="msg006211.html">6211</a>)</td></tr>				<tr><td><b>Prev/Next:</b></td><td><a href="msg006218.html">6218</a> / <a href="msg006220.html">6220</a></td></tr>				</table>			<br><I>I think you end up with artificial efficiency if you try to make a server perform well under benchmark tests.</I><p>

Yes. The GCC team at <A HREF="http://www.cygnus.com/">Cygnus</A> has a very firm rule: they will never modify GCC just to look better on a particular benchmark.<p>

Similarly, the Apache group believes that they're optimizing for real world use. But if the real world has changed, and people are running $50,000 Quad Xeon servers with four 100Mbit Ethernet cards, then the Apache folks need to spend less time optimizing for clusters of million hit-a-day sites and more time optimizing for single 3,000 hit-per-second sites.<p>

To be fair, the ZDNet tests did discover a serious flaw in Apache. It's called the "Thundering Herd" effect. They set the machines up to run about 200 copies of Apache (which is how Apache works on this scale), and all the copies waited on the same socket. Apparently, when a connection came in, all 200 copies would wake up, and the kernel would put 199 of them back to sleep immediately. This is obviously stupid, but nobody had ever noticed this problem in the real world.<p>

Linus and the other kernel hackers are working on a fix, obviously. They'll release something soon.<p>

<I>Somehow IIS was able to breeze thru all those benchmarks, but still Unix is the OS of choice for large-scale systems serving millions of users.</I><p>

Well, we want to study the numbers carefully. If ZDNet has discovered genuine performance problems, we should admit that we lost, and fix the problems in question. NT's kernel threads used to be much faster than Linux's kernel threads on certain benchmarks, and close study of where Linux lost discovered some genuine problems. Linux is cool, and all that, but it obviously can't win every single benchmark on every single hardware configuration.<p>

But my larger question remains: Should we play the whole benchmark game at all? We could spend all day digging up examples where Linux outperformed NT (Oracle, file sharing with NT clients) and Microsoft could look for counter-examples (SpecWeb, file sharing with Windows 98 clients). The Linux kernel hackers could tune Linux for each of the benchmarks, and Microsoft could implement more registry entries.<p>

But does this actually help real users? Linux has always concentrated on what people care about. Would it help anybody here for Linux to have better SpecWeb numbers? This is an honest question. If you need Linux to run faster at a specific task, please say so.<p>

Cheers,
Eric
			<br><br><hr><b>There are responses to this message:</b><ul><li>&nbsp;<a href="msg006224.html">Re: How to respond with dignity?</a>, Dave Winer, 5/14/1999; 9:09:21 AM<p><li>&nbsp;<a href="msg006267.html">Re: How to respond with dignity?</a>, Bruce Hoult, 5/14/1999; 7:51:38 PM<p></ul>			<br><br><hr>This page was archived on 6/13/2001; 4:50:09 PM.<br><br>&copy; Copyright 1998-2001 <a href="http://www.userland.com/">UserLand Software</a>, Inc.			</blockquote></blockquote>		</body>	</html>