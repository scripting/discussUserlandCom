<html>	<head>		<title>expansionState</title>		</head>	<body>		<blockquote><blockquote>			<b>Archive of UserLand's first discussion group, started October 5, 1998.</b><hr>			<h2>expansionState</h2>			<table cellpadding="0" cellspacing="5">				<tr><td><b>Author:</b></td><td>Jim Roepcke</td></tr>				<tr><td><b>Posted:</b></td><td>9/16/2000; 9:59:54 AM</td></tr>				<tr><td><b>Topic:</b></td><td><a href="msg021361.html">Outline XML files need a name</a></td></tr>				<tr><td><b>Msg #:</b></td><td>21392 (In response to <a href="msg021361.html">21361</a>)</td></tr>				<tr><td><b>Prev/Next:</b></td><td><a href="msg021391.html">21391</a> / <a href="msg021393.html">21393</a></td></tr>				</table>			<br>I wrote this last month in the world outline, but i don't know if anyone read it.<p>

I've slightly edited it here because it's no longer in an outline.  The original outline is at:<p>

<a href="http://www.ourfavoritesongs.com/users/jim@roepcke.com/Interests/Software/Radio%20UserLand.xml">http://www.ourfavoritesongs.com/users/jim@roepcke.com/Interests/Software/Radio%20UserLand.xml</a><p>

The <expansionState> tag in head seems Frontier-implementation-centric, not XML-centric.  It's really hard to output the expansion state from a system that dynamically generates outlineDocuments, especially from a tree structure or object graph, for example.  The expansionState tag results in non-Frontier systems needing two passes or a accumulator variable plus callback/macro to generate the correct expansionState information to stick in the <head&gt;<p>

More info on dynamically generated outlineDocuments...<p>

Template systems: might specify the <outlineDocument&gt;, <head&gt; and <body&gt; tags in the template, and use some recursive algorithm to dive into the structure to generate the <outline&gt;s which would be stuffed into the <body&gt; tag after rendering.<p>

XSLT transformed documents: I don't know this technology well yet, but I don't know if the list of ordinals could be generated via XSLT.<p>

Here's something I thought up...<p>

<outline expanded="inherit"<p>

Inherit the parent outline's expansion state, if possible, or "no" otherwise.  Not being an XML expert (perhaps that's an advantage? ;-)) perhaps there's a more xml-like way to express this state.<p>

<outline expanded="no" ...<p>

This outline heading is collapsed.  This state can be inherited -- when this outline is expanded, all subheads which inherit their expansion state from their parent will be collapsed.<p>

<outline expanded="yes" ...<p>

This outline is expanded.  This state can be inherited -- subheads which inherit their expansion state from their parent will be expanded.  Note that the real issue is that the expansion information currently isn't inline.  the "inherited" attribute is a side-idea.<p>

If you know you want everything to be expanded, it's much cheaper, space/bandwidth wise to specify "inherited" at a top level and then ignore the attribute in subheads.  It's more object oriented, kind of... child outlines don't have to know how they're being presented by their container outline, it'll just work.  When Frontier parsed an OPML doc with expanded attributes in outline tags, it could easily create the expansionState info as its loaded.<p>

I have a lot of ideas for generating dynamic OPML documents for very cool nodeType applications, but I fear it will be quite a bit more difficult with expansionState as it is unless the server is Frontier.  Perhaps OPML could support expansionState and the expanded attribute?<p>

Jim
			<br><br><hr><b>There are responses to this message:</b><ul><li>&nbsp;<a href="msg021393.html">a couple more ideas</a>, Jim Roepcke, 9/16/2000; 10:03:42 AM<p><li>&nbsp;<a href="msg021394.html">Re: expansionState</a>, Dave Winer, 9/16/2000; 10:05:42 AM<p></ul>			<br><br><hr>This page was archived on 6/13/2001; 4:56:43 PM.<br><br>&copy; Copyright 1998-2001 <a href="http://www.userland.com/">UserLand Software</a>, Inc.			</blockquote></blockquote>		</body>	</html>