<html>	<head>		<title>Re: XML-RPC Interface for Email</title>		</head>	<body>		<blockquote><blockquote>			<b>Archive of UserLand's first discussion group, started October 5, 1998.</b><hr>			<h2>Re: XML-RPC Interface for Email</h2>			<table cellpadding="0" cellspacing="5">				<tr><td><b>Author:</b></td><td>Dave Polaschek</td></tr>				<tr><td><b>Posted:</b></td><td>10/6/1999; 1:20:52 PM</td></tr>				<tr><td><b>Topic:</b></td><td></td></tr>				<tr><td><b>Msg #:</b></td><td>11792 (In response to <a href="msg011789.html">11789</a>)</td></tr>				<tr><td><b>Prev/Next:</b></td><td><a href="msg011791.html">11791</a> / <a href="msg011793.html">11793</a></td></tr>				</table>			<br>I'm with <a href="http://discuss.userland.com/msgReader$11789">Eric</a> here. There are multiple pieces. You could collapse them all into a single program on a single machine, and doing so in Frontier seems (at first blush) to be the simplest solution to that.<p>

For what it's worth, here's how I'd tackle the job:<ol>
<li>Write an smtp (<a href="http://rfc.fh-koeln.de/rfc/html_gz/rfc0822.html.gz">RFC822</a>) server in Frontier, using the networking code that exists in Frontier today. You may be able to leverage MainResponder, but I'm not familiar enough with that to be able to say for sure. The advantage of starting fresh is that you don't have all the problems that come with a standard implementation. Sendmail is not an easy thing to configure, even if you've got a running executable. You don't have to implement relaying, or even sending initially. Just make it receive mail for starters.
<li>Write a mail-header parser to parse and store the mail using XML for all header fields, message body, and attachments.
<li>Iteratively implement an XML-RPC interface to getting to the mail (probably from another Frontier client, again to make development quick). Do you want searches based on individual fields? Probably, but maybe not out of the gate. Similar requirements will come up as you go.
<li>Now do you need to send mail? If so, hook up that part of the mail server.
<li>Identify bottlenecks in the system. Reimplement things in C or other non-interpreted, higher-performance language. For example, storing email in XML format in a Frontier object database may well overtax the db if you're handling a lot of mail. If that's the case, rewrite it (and the SMTP server you developed) in C, and connect it to a database like Oracle or Sybase.
</ol><p>

As Eric points out, your goal is to get the XML-RPC interface spec nailed down. Rather than trying to do that first, make it part of your iteration, and do it in a language/system where iterative development is easy and quick. That says Frontier, perl or other high-level scripting-type language to me.<p>

The main place I differ is that I'd tackle the mailserver running in Frontier first. While I think reimplementing the mailserver is a good thing, I think it's also the riskiest portion of the development plan I laid out, so I'd tackle it first. Gives more time to shake the bugs out of it, and it's useful even if you're not storing the mail in SMTP format.<p>

-DaveP
			<br><br><hr><b>There are responses to this message:</b><ul><li>&nbsp;<a href="msg011794.html">Re: XML-RPC Interface for Email</a>, Dave Winer, 10/6/1999; 1:49:06 PM<p></ul>			<br><br><hr>This page was archived on 6/13/2001; 4:52:57 PM.<br><br>&copy; Copyright 1998-2001 <a href="http://www.userland.com/">UserLand Software</a>, Inc.			</blockquote></blockquote>		</body>	</html>