<html>	<head>		<title>multiple news sites and console.root</title>		</head>	<body>		<blockquote><blockquote>			<b>Archive of UserLand's first discussion group, started October 5, 1998.</b><hr>			<h2>multiple news sites and console.root</h2>			<table cellpadding="0" cellspacing="5">				<tr><td><b>Author:</b></td><td>David Theige</td></tr>				<tr><td><b>Posted:</b></td><td>4/22/1999; 8:59:17 PM</td></tr>				<tr><td><b>Topic:</b></td><td><a href="msg005087.html">Nirvana is getting closer...</a></td></tr>				<tr><td><b>Msg #:</b></td><td>5235 (In response to <a href="msg005087.html">5087</a>)</td></tr>				<tr><td><b>Prev/Next:</b></td><td><a href="msg005234.html">5234</a> / <a href="msg005236.html">5236</a></td></tr>				</table>			<br>I'm getting closer to my vision of Nirvana <<a href="http://discuss.userland.com/msgReader$5087">http://discuss.userland.com/msgReader$5087</a>>. I've now got two functional discussion groups with totally independent memberships. Each group has an associated table in news.root...let's call them myNewsSite and anotherNewsSite. I'm able to update each news site from it's respective discussion group. I'm also able to manage myNewsSite from console.root. This functions perfectly. A few days ago on one of the mailing lists, I asked how I could set up console.root to manage multiple news sites. <p>

Andre Radke wrote:<p>

<i>Let's assume you have already configured console.root to manage myNewsSite.<p>

1. Duplicate myNewsSite's entry in consoleData.servers and modify the copy
to reflect the settings for anotherNewsSite.<p>

2. Duplicate the consoleSite table and change the #newsServer attribute in
the copy to the name of the newly created consoleData.servers sub-table.<p>

Now you have two console pages, one for managins each news site.</i><p>

Well...not quite. I do have two console pages. The page for myNewsSite functions perfectly. The page for anotherNewsSite has some problems. The page layout is correct and the preview of today's news is right. However, the textarea form contains the text of a message from the wrong discussion group (myNewsSite). The script for the default page in consoleSite (which I cloned for both of my sites in console.root) contains this macro:<p>

&#123;consoleSuite.editTodaysNews ()}<!-- form that allows you to edit today's news --><p>

The first line in consoleSuite.editTodaysNews is:<p>

local (msgtable = consoleSuite.getMsgTable ())<p>

consoleSuite.getMsgTable contains these lines:<p>

if not defined (consoleData.cache.msgtable) &#123;
	with consoleData.servers.[<b>consoleSite</b>.["#newsServer"]] &#123;<p>

The effect is that the setting for consoleData.servers is hardcoded to the #newsServer setting in consoleSite.<p>

Also, &#123;consolesuite.cowskull ()} returns a link to consoledata.cache.msgtable.url. Since I have two console sites, but only one consoledata.cache. table, this returns the wrong url when I switch from one console site to another.<p>

I'll try to work out some fixes, then I'll post again...
			<br><br><hr><b>There are responses to this message:</b><ul><li>&nbsp;<a href="msg005236.html">a change to consoleSuite.getMsgTable</a>, David Theige, 4/22/1999; 9:26:46 PM<p></ul>			<br><br><hr>This page was archived on 6/13/2001; 4:49:29 PM.<br><br>&copy; Copyright 1998-2001 <a href="http://www.userland.com/">UserLand Software</a>, Inc.			</blockquote></blockquote>		</body>	</html>