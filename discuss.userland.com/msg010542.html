<html>	<head>		<title>Re: A Limit on entries in tables?</title>		</head>	<body>		<blockquote><blockquote>			<b>Archive of UserLand's first discussion group, started October 5, 1998.</b><hr>			<h2>Re: A Limit on entries in tables?</h2>			<table cellpadding="0" cellspacing="5">				<tr><td><b>Author:</b></td><td>Dave Winer</td></tr>				<tr><td><b>Posted:</b></td><td>9/3/1999; 3:33:56 PM</td></tr>				<tr><td><b>Topic:</b></td><td><a href="msg005000.html">A Limit on entries in tables?</a></td></tr>				<tr><td><b>Msg #:</b></td><td>10542 (In response to <a href="msg005000.html">5000</a>)</td></tr>				<tr><td><b>Prev/Next:</b></td><td><a href="msg010541.html">10541</a> / <a href="msg010546.html">10546</a></td></tr>				</table>			<br>I've been thinking about this as the DG here passed 10,000 messages last week. The key is to have reasonably low-level access routines, so that when a system grows you can swap in a different storage method. <p>

When I can clear a little time I'm going to give it a try here. I'll move all the messages to a hierarchic store, not a flat table, probably broken down by month. Then there will be a table that maps ranges of msgnums to months. <p>

Then I'll empty out the messages table. The scripts will look in the messages table first, if it fails to find the message, it looks in the hierarchic store and copies the message into the messages table and adds its msgnum to a recently-used table which is sorted on date of last access. This process repeats until some fixed maximum number of entries are in the messages table, at which point, it swaps out the least recently used message back to the hierarchic store.<p>

This is based on the theory that at any given time there are only about 100 or so messages that are actively being read. (We could test that assumption.)<p>

Could the same method be applied to membership? Almost certainly yes.
			<br><br><hr><b>There are responses to this message:</b><ul><li>&nbsp;<a href="msg010551.html">Re: A Limit on entries in tables?</a>, Thomas A. Creedon, 9/3/1999; 9:01:19 PM<p></ul>			<br><br><hr>This page was archived on 6/13/2001; 4:52:24 PM.<br><br>&copy; Copyright 1998-2001 <a href="http://www.userland.com/">UserLand Software</a>, Inc.			</blockquote></blockquote>		</body>	</html>